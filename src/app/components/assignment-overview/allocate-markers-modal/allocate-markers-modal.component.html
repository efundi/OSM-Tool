<div mat-dialog-title class="mt-3">
  <h2>Allocate Makers</h2>
  <span class="pdf-marker-fill-space"></span>
  <button type="button" mat-icon-button matTooltip="Close" (click)="onClose()"><mat-icon>close</mat-icon></button>
</div>
<mat-dialog-content>
  <p class="text-black-50 small">Auto allocate a group of markers to mark this assignment.</p>
  <div class="mb-3">
    <div class="d-flex"><mat-icon>description</mat-icon>&nbsp;<span class="text-black-50">{{assignmentName}}</span></div>
    <div class="d-flex"><mat-icon>person</mat-icon>&nbsp;<span class="text-black-50">{{studentCount}} Students</span></div>
    <div class="d-flex"><mat-icon>insert_drive_file</mat-icon>&nbsp;<span class="text-black-50">{{submissions.length}} Submission</span></div>
  </div>


  <form [formGroup]="formGroup">
    <div>Choose your marker group</div>
    <mat-form-field>
      <mat-select formControlName="groupId">
        <mat-option *ngFor="let group of settings?.groups" [value]="group.id">
          {{group.name}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-checkbox formControlName="includeMe" color="primary" class="ms-2">Include Me</mat-checkbox>
  </form>
  <div *ngIf="allocations.length > 0">
    <p><mat-icon>workspaces</mat-icon> Submissions Allocated</p>
    <table class="table">
      <tbody>
      <tr *ngFor="let allocation of allocations" class="text-black-50">
        <td style="width: 1rem;" class="border-0 p-1">{{allocation.submissions.length}}</td>
        <td class="border-0 p-1">{{allocation.marker.name}} ({{allocation.marker.email}})</td>
      </tr>
      </tbody>
    </table>
  </div>
</mat-dialog-content>
<div mat-dialog-actions class="justify-content-end">
  <button color="primary" type="submit" mat-button mat-raised-button cdkTrapFocus (click)="submit()">Submit</button>&nbsp;&nbsp;&nbsp;
</div>
